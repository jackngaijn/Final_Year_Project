import yfinance as yf
import pandas as pd
import seaborn as sns
import matplotlib.pyplot as plt

# Define the stock symbols and date range
# Choose SSE 180 constituent index as it includes a larger number of stocks and the stocks are the most representative stocks that listed on SSE
# Only include the stocks that were being listed through 2010-2020, 97 stocks will be in the stock pool 
symbols = ['600000.ss','600004.ss','600006.ss', '600007.ss','600008.ss','600009.ss', '600010.ss','600011.ss','600012.ss', '600015.ss','600016.ss','600017.ss', '600018.ss','600019.ss','600020.ss', '600021.ss','600022.ss','600023.ss', '600025.ss','600026.ss','600027.ss', '600028.ss','600029.ss','600030.ss', '600031.ss','600032.ss','600033.ss', '600035.ss','600036.ss','600037.ss', '600038.ss','600039.ss','600048.ss', '600050.ss','600051.ss','600052.ss', '600053.ss','600054.ss','600055.ss', '600056.ss','600057.ss','600058.ss', '600059.ss','600060.ss','600061.ss', '600062.ss','600063.ss','600064.ss', '600066.ss','600067.ss','600071.ss', '600072.ss','600073.ss','600075.ss', '600076.ss','600078.ss','600079.ss', '600080.ss','600081.ss','600082.ss', '600084.ss','600085.ss','600088.ss', '600089.ss','600094.ss','600095.ss', '600096.ss','600097.ss','600098.ss', '600099.ss','600100.ss','600101.ss', '600103.ss','600104.ss','600105.ss', '600106.ss','600107.ss','600108.ss', '600109.ss','600110.ss','600111.ss', '600113.ss','600114.ss','600115.ss', '600116.ss','600117.ss','600118.ss', '600119.ss','600120.ss','600121.ss', '600123.ss','600125.ss','600126.ss', '600127.ss','600128.ss','600129.ss', '600130.ss','600131.ss','600132.ss', '600133.ss','600135.ss','600137.ss', '600138.ss','600141.ss','600143.ss', '600148.ss','600149.ss','600150.ss', '600151.ss','600152.ss','600153.ss', '600155.ss','600156.ss','600157.ss', '600158.ss','600159.ss','600160.ss', '600161.ss','600162.ss','600163.ss', '600166.ss','600167.ss','600168.ss', '600169.ss','600170.ss','600171.ss', '600172.ss','600173.ss','600176.ss', '600177.ss','600178.ss','600179.ss', '600180.ss','600182.ss','600183.ss', '600184.ss','600185.ss','600186.ss', '600187.ss','600188.ss','600189.ss', '600191.ss','600192.ss','600193.ss', '600195.ss','600196.ss','600197.ss', '600198.ss','600199.ss','600200.ss', '600201.ss','600202.ss','600203.ss', '600206.ss','600207.ss','600208.ss', '600210.ss','600211.ss','600212.ss', '600215.ss','600216.ss','600217.ss', '600218.ss','600219.ss','600221.ss', '600222.ss','600223.ss','600226.ss', '600227.ss','600228.ss','600229.ss', '600230.ss','600231.ss','600232.ss', '600233.ss','600235.ss','600236.ss', '600237.ss','600238.ss','600239.ss', '600241.ss','600243.ss','600246.ss', '600248.ss','600249.ss','600250.ss', '600251.ss','600252.ss','600255.ss', '600256.ss','600257.ss','600258.ss', '600259.ss','600261.ss','600262.ss', '600265.ss','600266.ss','600267.ss', '600268.ss','600269.ss','600271.ss', '600272.ss','600273.ss','600276.ss', '600278.ss','600279.ss','600280.ss', '600281.ss','600282.ss','600283.ss', '600284.ss','600285.ss','600288.ss', '600292.ss','600293.ss','600295.ss', '600298.ss','600299.ss','600300.ss', '600301.ss','600302.ss','600305.ss', '600307.ss','600308.ss','600309.ss', '600310.ss','600312.ss','600313.ss', '600315.ss','600316.ss','600318.ss', '600319.ss','600320.ss','600322.ss', '600323.ss','600325.ss','600326.ss', '600327.ss','600328.ss','600329.ss', '600330.ss','600331.ss','600332.ss', '600333.ss','600335.ss','600336.ss', '600337.ss','600338.ss','600339.ss', '600340.ss','600343.ss','600345.ss', '600346.ss','600348.ss','600350.ss', '600351.ss','600352.ss','600353.ss', '600354.ss','600355.ss','600356.ss', '600358.ss','600359.ss','600361.ss', '600362.ss','600363.ss','600366.ss', '600367.ss','600368.ss','600369.ss', '600370.ss','600371.ss','600372.ss', '600373.ss','600376.ss','600377.ss', '600378.ss','600379.ss','600380.ss', '600382.ss','600383.ss','600386.ss', '600388.ss','600389.ss','600390.ss', '600391.ss','600392.ss','600395.ss', '600396.ss','600397.ss','600398.ss', '600399.ss','600400.ss','600403.ss', '600405.ss','600406.ss','600408.ss', '600409.ss','600410.ss','600415.ss', '600416.ss','600418.ss','600419.ss', '600420.ss','600421.ss','600422.ss', '600423.ss','600425.ss','600426.ss', '600428.ss','600429.ss','600433.ss', '600435.ss','600436.ss','600438.ss', '600439.ss','600444.ss','600446.ss', '600448.ss','600449.ss','600452.ss', '600455.ss','600456.ss','600458.ss', '600459.ss','600460.ss','600461.ss', '600463.ss','600467.ss','600468.ss', '600469.ss','600470.ss','600475.ss', '600476.ss','600477.ss','600478.ss', '600479.ss','600480.ss','600481.ss', '600482.ss','600483.ss','600486.ss', '600487.ss','600488.ss','600489.ss', '600490.ss','600491.ss','600493.ss', '600495.ss','600496.ss','600497.ss', '600498.ss','600499.ss','600500.ss', '600501.ss','600502.ss','600503.ss', '600505.ss','600506.ss','600507.ss', '600508.ss','600509.ss','600510.ss', '600511.ss','600512.ss','600513.ss', '600515.ss','600516.ss','600517.ss', '600518.ss','600519.ss','600520.ss', '600521.ss','600522.ss','600523.ss', '600525.ss','600526.ss','600527.ss', '600528.ss','600529.ss','600530.ss', '600531.ss','600533.ss','600535.ss', '600536.ss','600537.ss','600538.ss', '600539.ss','600540.ss','600543.ss', '600545.ss','600546.ss','600547.ss', '600548.ss','600549.ss','600550.ss', '600551.ss','600552.ss','600556.ss', '600557.ss','600558.ss','600559.ss', '600560.ss','600561.ss','600562.ss', '600563.ss','600566.ss','600567.ss', '600569.ss','600570.ss','600571.ss', '600572.ss','600573.ss','600575.ss', '600576.ss','600577.ss','600578.ss', '600579.ss','600580.ss','600581.ss', '600582.ss','600583.ss','600584.ss', '600585.ss','600586.ss','600587.ss', '600588.ss','600589.ss','600590.ss', '600592.ss','600593.ss','600594.ss', '600595.ss','600596.ss','600597.ss', '600598.ss','600600.ss','600601.ss', '600602.ss','600604.ss','600605.ss', '600606.ss','600609.ss','600610.ss', '600611.ss','600612.ss','600613.ss', '600615.ss','600616.ss','600617.ss', '600618.ss','600619.ss','600620.ss', '600621.ss','600622.ss','600623.ss', '600624.ss','600626.ss','600628.ss', '600629.ss','600630.ss','600633.ss', '600635.ss','600636.ss','600637.ss', '600638.ss','600639.ss','600640.ss', '600641.ss','600642.ss','600643.ss', '600644.ss','600645.ss','600648.ss', '600649.ss','600650.ss','600651.ss', '600653.ss','600654.ss','600655.ss', '600657.ss','600658.ss','600660.ss', '600661.ss','600662.ss','600663.ss', '600664.ss','600665.ss','600666.ss', '600667.ss','600668.ss','600673.ss', '600674.ss','600675.ss','600676.ss', '600678.ss','600679.ss','600681.ss', '600682.ss','600683.ss','600684.ss', '600685.ss','600686.ss','600688.ss', '600689.ss','600690.ss','600691.ss', '600692.ss','600693.ss','600694.ss', '600696.ss','600697.ss','600698.ss', '600699.ss','600702.ss','600703.ss', '600704.ss','600705.ss','600706.ss', '600707.ss','600708.ss','600710.ss', '600712.ss','600713.ss','600714.ss', '600716.ss','600717.ss','600718.ss', '600719.ss','600720.ss','600721.ss', '600732.ss','600733.ss','600734.ss', '600735.ss','600736.ss','600737.ss', '600738.ss','600739.ss','600740.ss', '600741.ss','600742.ss','600743.ss', '600744.ss','600745.ss','600746.ss', '600748.ss','600749.ss','600750.ss', '600751.ss','600753.ss','600754.ss', '600755.ss','600756.ss','600757.ss', '600758.ss','600759.ss','600760.ss', '600761.ss','600763.ss','600764.ss', '600765.ss','600768.ss','600769.ss', '600770.ss','600771.ss','600773.ss', '600774.ss','600775.ss','600776.ss', '600778.ss','600779.ss','600780.ss', '600782.ss','600783.ss','600784.ss', '600785.ss','600787.ss','600789.ss', '600790.ss','600791.ss','600792.ss', '600793.ss','600794.ss','600795.ss', '600796.ss','600797.ss','600798.ss', '600800.ss','600801.ss','600802.ss', '600803.ss','600805.ss','600807.ss', '600808.ss','600809.ss','600810.ss', '600811.ss','600812.ss','600814.ss', '600815.ss','600816.ss','600817.ss', '600818.ss','600819.ss','600820.ss', '600821.ss','600822.ss','600824.ss', '600825.ss','600826.ss','600827.ss', '600828.ss','600829.ss','600830.ss', '600833.ss','600834.ss','600835.ss', '600838.ss','600839.ss','600841.ss', '600843.ss','600844.ss','600845.ss', '600846.ss','600847.ss','600848.ss', '600850.ss','600851.ss','600853.ss', '600854.ss','600855.ss','600856.ss', '600857.ss','600858.ss','600859.ss', '600860.ss','600861.ss','600862.ss', '600863.ss','600864.ss','600865.ss', '600866.ss','600867.ss','600868.ss', '600869.ss','600871.ss','600872.ss', '600873.ss','600874.ss','600875.ss', '600876.ss','600877.ss','600879.ss', '600880.ss','600881.ss','600882.ss', '600883.ss','600884.ss','600885.ss', '600886.ss','600887.ss','600888.ss', '600889.ss','600892.ss','600893.ss', '600894.ss','600895.ss','600897.ss', '600900.ss','600901.ss','600903.ss', '600905.ss','600906.ss','600908.ss', '600909.ss','600916.ss','600917.ss', '600918.ss','600919.ss','600925.ss', '600926.ss','600927.ss','600928.ss', '600929.ss','600933.ss','600935.ss', '600936.ss','600938.ss','600939.ss', '600941.ss','600955.ss','600956.ss', '600958.ss','600959.ss','600960.ss', '600961.ss','600962.ss','600963.ss', '600965.ss','600966.ss','600967.ss', '600968.ss','600969.ss','600970.ss', '600971.ss','600973.ss','600975.ss', '600976.ss','600977.ss','600979.ss', '600980.ss','600981.ss','600982.ss', '600983.ss','600984.ss','600985.ss', '600986.ss','600987.ss','600988.ss', '600989.ss','600990.ss','600992.ss', '600993.ss','600995.ss','600996.ss', '600997.ss','600998.ss','600999.ss', '601000.ss','601001.ss','601002.ss', '601003.ss','601005.ss','601006.ss', '601007.ss','601008.ss','601009.ss', '601010.ss','601011.ss','601012.ss', '601015.ss','601016.ss','601018.ss', '601019.ss','601020.ss','601021.ss', '601028.ss','601033.ss','601038.ss', '601058.ss','601059.ss','601061.ss', '601065.ss','601066.ss','601068.ss', '601069.ss','601077.ss','601083.ss', '601086.ss','601088.ss','601089.ss', '601096.ss','601098.ss','601099.ss', '601100.ss','601101.ss','601106.ss', '601107.ss','601108.ss','601111.ss', '601113.ss','601116.ss','601117.ss', '601118.ss','601121.ss','601126.ss', '601127.ss','601128.ss','601133.ss', '601136.ss','601137.ss','601138.ss', '601139.ss','601155.ss','601156.ss', '601158.ss','601162.ss','601163.ss', '601166.ss','601168.ss','601169.ss', '601177.ss','601179.ss','601186.ss', '601187.ss','601188.ss','601198.ss', '601199.ss','601200.ss','601211.ss', '601212.ss','601216.ss','601218.ss', '601222.ss','601225.ss','601226.ss', '601228.ss','601229.ss','601231.ss', '601233.ss','601236.ss','601238.ss', '601279.ss','601288.ss','601298.ss', '601311.ss','601318.ss','601319.ss', '601326.ss','601328.ss','601330.ss', '601333.ss','601336.ss','601339.ss', '601360.ss','601366.ss','601368.ss', '601369.ss','601375.ss','601377.ss', '601388.ss','601390.ss','601398.ss', '601399.ss','601456.ss','601500.ss', '601512.ss','601515.ss','601518.ss', '601519.ss','601528.ss','601555.ss', '601566.ss','601567.ss','601568.ss', '601577.ss','601579.ss','601588.ss', '601595.ss','601598.ss','601599.ss', '601600.ss','601601.ss','601606.ss', '601607.ss','601608.ss','601609.ss', '601611.ss','601615.ss','601616.ss', '601618.ss','601619.ss','601628.ss', '601633.ss','601636.ss','601658.ss', '601665.ss','601666.ss','601668.ss', '601669.ss','601677.ss','601678.ss', '601686.ss','601688.ss','601689.ss', '601696.ss','601698.ss','601699.ss', '601700.ss','601702.ss','601717.ss', '601718.ss','601727.ss','601728.ss', '601766.ss','601777.ss','601778.ss', '601789.ss','601798.ss','601799.ss', '601800.ss','601801.ss','601808.ss', '601811.ss','601816.ss','601818.ss', '601825.ss','601827.ss','601828.ss', '601838.ss','601857.ss','601858.ss', '601860.ss','601865.ss','601866.ss', '601868.ss','601869.ss','601872.ss', '601877.ss','601878.ss','601880.ss', '601882.ss','601886.ss','601888.ss', '601890.ss','601898.ss','601899.ss', '601900.ss','601901.ss','601908.ss', '601916.ss','601918.ss','601919.ss', '601921.ss','601928.ss','601929.ss', '601933.ss','601939.ss','601949.ss', '601952.ss','601956.ss','601958.ss', '601963.ss','601965.ss','601966.ss', '601968.ss','601969.ss','601975.ss','601985.ss','601988.ss','601989.ss','601990.ss','601991.ss','601992.ss','601995.ss','601996.ss','601997.ss','600722.ss','600724.ss','600725.ss','600726.ss','600727.ss','600728.ss','600729.ss','600730.ss','600731.ss',
'601998.ss','601999.ss','603000.ss',
'603001.ss','603002.ss','603004.ss',
'603005.ss','603006.ss','603008.ss',
'603009.ss','603010.ss','603011.ss',
'603012.ss','603013.ss','603015.ss',
'603016.ss','603017.ss','603018.ss',
'603019.ss','603020.ss','603021.ss',
'603022.ss','603025.ss','603026.ss',
'603027.ss','603028.ss','603029.ss',
'603030.ss','603031.ss','603032.ss',
'603033.ss','603035.ss','603036.ss',
'603037.ss','603038.ss','603039.ss',
'603040.ss','603041.ss','603042.ss',
'603043.ss','603045.ss','603048.ss',
'603050.ss','603051.ss','603052.ss',
'603053.ss','603055.ss','603056.ss',
'603057.ss','603058.ss','603059.ss',
'603060.ss','603061.ss','603062.ss',
'603063.ss','603065.ss','603066.ss',
'603067.ss','603068.ss','603069.ss',
'603070.ss','603071.ss','603073.ss',
'603075.ss','603076.ss','603077.ss',
'603078.ss','603079.ss','603080.ss',
'603081.ss','603082.ss','603083.ss',
'603085.ss','603086.ss','603087.ss',
'603088.ss','603089.ss','603090.ss',
'603093.ss','603095.ss','603096.ss',
'603097.ss','603098.ss','603099.ss',
'603100.ss','603101.ss','603102.ss',
'603103.ss','603105.ss','603106.ss',
'603107.ss','603108.ss','603109.ss',
'603110.ss','603111.ss','603112.ss',
'603113.ss','603115.ss','603116.ss',
'603117.ss','603118.ss','603119.ss',
'603121.ss','603122.ss','603123.ss',
'603125.ss','603126.ss','603127.ss',
'603128.ss','603129.ss','603130.ss',
'603131.ss','603132.ss','603135.ss',
'603136.ss','603137.ss','603138.ss',
'603139.ss','603150.ss','603151.ss',
'603153.ss','603155.ss','603156.ss',
'603220.ss','603226.ss','603227.ss',
'603228.ss','603229.ss','603230.ss',
'603231.ss','603232.ss','603233.ss',
'603235.ss','603236.ss','603237.ss',
'603238.ss','603239.ss','603255.ss',
'603256.ss','603258.ss','603259.ss',
'603260.ss','603261.ss','603262.ss',
'603263.ss','603264.ss','603265.ss',
'603266.ss','603267.ss','603268.ss',
'603269.ss','603270.ss','603271.ss',
'603272.ss','603273.ss','603274.ss',
'603275.ss','603276.ss','603277.ss',
'603278.ss','603279.ss','603280.ss',
'603281.ss','603282.ss','603283.ss',
'603284.ss','603285.ss','603286.ss',
'603287.ss','603288.ss','603289.ss',
'603290.ss','603291.ss','603292.ss',
'603293.ss','603294.ss','603295.ss',
'603296.ss','603297.ss','603298.ss',
'603299.ss','603300.ss','603301.ss',
'603302.ss','603303.ss','603304.ss',
'603305.ss','603306.ss','603307.ss',
'603308.ss','603309.ss','603310.ss',
'603311.ss','603312.ss','603313.ss',
'603314.ss','603315.ss','603316.ss',
'603317.ss','603318.ss','603319.ss', '603320.ss','603321.ss','603322.ss',
'603323.ss','603324.ss','603325.ss',
'603326.ss','603327.ss','603328.ss',
'603329.ss','603330.ss','603331.ss',
'603332.ss','603333.ss','603334.ss',
'603335.ss','603336.ss','603337.ss',
'603338.ss','603339.ss','603340.ss',
'603341.ss','603342.ss','603343.ss',
'603344.ss','603345.ss','603346.ss',
'603347.ss','603348.ss','603349.ss',
'603350.ss','603351.ss','603352.ss',
'603353.ss','603354.ss','603355.ss',
'603356.ss','603357.ss','603358.ss',
'603359.ss','603360.ss','603361.ss',
'603362.ss','603363.ss','603364.ss',
'603365.ss','603366.ss','603367.ss',
'603368.ss','603369.ss','603370.ss',
'603371.ss','603372.ss','603373.ss',
'603374.ss','603375.ss','603376.ss',
'603377.ss','603378.ss','603379.ss',
'603380.ss','603381.ss','603382.ss',
'603383.ss','603384.ss','603385.ss',
'603386.ss','603387.ss','603388.ss',
'603389.ss','603390.ss','603391.ss',
'603392.ss','603393.ss','603394.ss',
'603395.ss','603396.ss','603397.ss']

start_date = '2010-01-01'
end_date = '2011-12-31'#refer to the period selected by the paper

# Fetch the stock data
data = yf.download(symbols, start=start_date, end=end_date, auto_adjust=False)['Adj Close']

# Summary statistics for prices
print("Summary Statistics for Prices:\n")
print(data.describe())

# Calculate the correlation matrix
correlation_matrix = data.pct_change().corr()

# Create a heatmap
plt.figure(figsize=(10, 8))
sns.cubehelix_palette(start=.5, rot=-.5, as_cmap=True)
sns.heatmap(correlation_matrix, annot=False, xticklabels=False, yticklabels=False, cmap='crest', vmin=-1, vmax=1, center=0)
plt.title('Correlation Heatmap of Stocks in SSE')
plt.show()
